DIR = `basename $(CURDIR)`
########################################
 LIB1 = setsimple
 LIB2 = setlinked
 LIB3 = dictionarysimple
 EXEC1 = main
########################################
 EXECS = $(EXEC1)
########################################
 OBJS1 = $(EXEC1).o
########################################
 LIBS1 = $(LIB1).h $(LIB2).h $(LIB3).h
########################################
 COFLAGS = -Wall -O -std=c++11
 LDFLAGS = -Wall -O
 CO = g++
 LD = $(CO)
########################################
 %.o: %.cpp
	$(CO) $(COFLAGS) -c $<
########################################
.PHONY: all
all: $(EXECS)
########################################
$(EXEC1): $(OBJS1) $(LIBS1)
	$(LD) -o $@ $(LDFLAGS) $^
########################################
.PHONY: run
run: $(EXECS)
	./$(EXEC1)
########################################
.PHONY: clean
clean:
	rm -f *.o  *~ $(EXECS)
########################################
.PHONY: tar
tar: clean
	(cd ../; tar -cvzf "$(DIR)".tar.gz  "$(DIR)" )
########################################
